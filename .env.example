# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Resend Email Service (for signature request emails)
RESEND_API_KEY=your_resend_api_key

# Application URL (for email links)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Optional: Database URL (if using direct database connection)
DATABASE_URL=your_database_connection_string

# ================================
# UPSTASH REDIS CONFIGURATION
# ================================
# Get these from: https://console.upstash.com/redis
UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-redis-token

# ================================
# UPSTASH QSTASH CONFIGURATION
# ================================
# Get these from: https://console.upstash.com/qstash
QSTASH_TOKEN=your-qstash-token
QSTASH_CURRENT_SIGNING_KEY=your-current-signing-key
QSTASH_NEXT_SIGNING_KEY=your-next-signing-key

# ================================
# ADDITIONAL CONFIGURATION
# ================================
# Service role key for admin operations
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Email configuration
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
EMAIL_FROM_NAME=SignTusk

# Security
JWT_SECRET=your-jwt-secret-key
ENCRYPTION_KEY=your-32-character-encryption-key

# TOTP Configuration
TOTP_ISSUER=SignTusk
TOTP_SERVICE_NAME=SignTusk Document Signing

# Development
NODE_ENV=development
DEBUG=true

# Corporate Features
ENABLE_CORPORATE_FEATURES=true
DEFAULT_CORPORATE_DOMAIN=yourcompany.com

# ================================
# IP GEOLOCATION SERVICE
# ================================
# Provider: ipapi, ipinfo, ipgeolocation, ipstack
GEOLOCATION_PROVIDER=ipapi
GEOLOCATION_API_KEY=a39e1adcf4444d438f3d513294dd3089

# ================================
# AI SERVICES
# ================================
# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview

# Vector Database (Pinecone, Weaviate, or Qdrant)
VECTOR_DB_PROVIDER=pinecone
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_ENVIRONMENT=your-pinecone-environment
PINECONE_INDEX=signtusk-documents

# Alternative: Weaviate
WEAVIATE_URL=https://your-weaviate-instance.weaviate.network
WEAVIATE_API_KEY=your-weaviate-api-key

# Alternative: Qdrant
QDRANT_URL=https://your-qdrant-instance.qdrant.io
QDRANT_API_KEY=your-qdrant-api-key

# ================================
# SAML/SSO CONFIGURATION
# ================================
# SAML Service Provider Configuration
SAML_ENTITY_ID=https://yourdomain.com/saml/metadata
SAML_CALLBACK_URL=https://yourdomain.com/api/auth/sso/callback
SAML_CERT_PATH=/path/to/saml/cert.pem
SAML_PRIVATE_KEY_PATH=/path/to/saml/private-key.pem

# SAML Identity Provider Metadata URL (per provider)
SAML_IDP_METADATA_URL=https://your-idp.com/metadata.xml

# ================================
# WEBSOCKET CONFIGURATION
# ================================
# WebSocket Server
WEBSOCKET_ENABLED=true
WEBSOCKET_PORT=3001
WEBSOCKET_PATH=/ws

# Redis for WebSocket pub/sub (multi-instance support)
WEBSOCKET_REDIS_URL=https://your-redis-instance.upstash.io
WEBSOCKET_REDIS_TOKEN=your-redis-token

# ================================
# FEATURE FLAGS
# ================================
ENABLE_AI_CHAT=true
ENABLE_REALTIME_ANALYTICS=true
ENABLE_WEBSOCKET=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_BULK_OPERATIONS=true
ENABLE_SSO=false

# ================================
# ANALYTICS & EXPORT
# ================================
# Export job storage
EXPORT_STORAGE_BUCKET=exports
EXPORT_MAX_FILE_SIZE=100MB
EXPORT_RETENTION_DAYS=7

# ================================
# RATE LIMITING
# ================================
# Password verification rate limit
PASSWORD_RATE_LIMIT_MAX=5
PASSWORD_RATE_LIMIT_WINDOW=15m

# Email verification rate limit
EMAIL_RATE_LIMIT_MAX=5
EMAIL_RATE_LIMIT_WINDOW=1h

# API rate limit
API_RATE_LIMIT_MAX=100
API_RATE_LIMIT_WINDOW=1m

# ================================
# SIGNATURE MODULE CONFIGURATION
# ================================
# Cron job secret for automated tasks
CRON_SECRET=your-secure-cron-secret-key

# Signature expiration settings
SIGNATURE_DEFAULT_EXPIRATION_DAYS=30
SIGNATURE_MAX_EXPIRATION_DAYS=365
SIGNATURE_MIN_EXPIRATION_DAYS=1
SIGNATURE_GRACE_PERIOD_HOURS=24

# Signature limits
SIGNATURE_MAX_SIGNERS_PER_REQUEST=50
SIGNATURE_MAX_REQUESTS_PER_USER=1000
SIGNATURE_MAX_BULK_OPERATION_SIZE=100

# Reminder settings
SIGNATURE_MIN_REMINDER_INTERVAL_HOURS=24
SIGNATURE_MAX_REMINDERS_PER_REQUEST=5
SIGNATURE_REMINDER_BATCH_SIZE=50

# Cache settings
SIGNATURE_CACHE_TTL_SECONDS=300
SIGNATURE_CACHE_KEY_PREFIX=signature:
SIGNATURE_ANALYTICS_CACHE_TTL_SECONDS=300
SIGNATURE_TEMPLATE_CACHE_TTL_SECONDS=600

# Pagination settings
SIGNATURE_DEFAULT_PAGE_SIZE=20
SIGNATURE_MAX_PAGE_SIZE=100

# Analytics settings
SIGNATURE_ANALYTICS_RETENTION_DAYS=999
SIGNATURE_RECENT_SIGNATURES_LIMIT=100
SIGNATURE_METRICS_BATCH_SIZE=1000

# Rate limiting for signatures
SIGNATURE_RATE_LIMIT_REQUESTS_PER_HOUR=100
SIGNATURE_BULK_OPERATIONS_PER_HOUR=5
SIGNATURE_REMINDERS_PER_HOUR=20

# Security settings
SIGNATURE_TOTP_WINDOW=1
SIGNATURE_SESSION_EXPIRATION_HOURS=24
SIGNATURE_REQUIRE_TOTP_BY_DEFAULT=false
